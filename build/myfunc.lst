ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"myfunc.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_i2d
  20              		.global	__aeabi_d2uiz
  21              		.section	.text.Uint_to_Str,"ax",%progbits
  22              		.align	1
  23              		.global	Uint_to_Str
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	Uint_to_Str:
  29              	.LVL0:
  30              	.LFB235:
  31              		.file 1 "backup/Src/myfunc.c"
   1:backup/Src/myfunc.c **** #include "myfunc.h"
   2:backup/Src/myfunc.c **** #include "main.h"
   3:backup/Src/myfunc.c **** #include "tim.h"
   4:backup/Src/myfunc.c **** 
   5:backup/Src/myfunc.c **** //整型转字符，写入指定连续空间，返回长度
   6:backup/Src/myfunc.c **** uint8_t Uint_to_Str(uint32_t num, uint8_t* place)
   7:backup/Src/myfunc.c **** {
  32              		.loc 1 7 1 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              		.loc 1 7 1 is_stmt 0 view .LVU1
  37 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 24
  40              		.cfi_offset 4, -24
  41              		.cfi_offset 5, -20
  42              		.cfi_offset 6, -16
  43              		.cfi_offset 7, -12
  44              		.cfi_offset 8, -8
  45              		.cfi_offset 14, -4
  46 0004 0546     		mov	r5, r0
  47 0006 0E46     		mov	r6, r1
   8:backup/Src/myfunc.c ****     uint16_t k,i,tem;
  48              		.loc 1 8 5 is_stmt 1 view .LVU2
   9:backup/Src/myfunc.c ****     //算出i位数
  10:backup/Src/myfunc.c ****     for (k = 10, i = 1; ; i++, k *= 10){
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 2


  49              		.loc 1 10 5 view .LVU3
  50              	.LVL1:
  51              		.loc 1 10 20 is_stmt 0 view .LVU4
  52 0008 0124     		movs	r4, #1
  53              		.loc 1 10 12 view .LVU5
  54 000a 0A23     		movs	r3, #10
  55 000c 05E0     		b	.L3
  56              	.LVL2:
  57              	.L7:
  58              		.loc 1 10 27 is_stmt 1 view .LVU6
  59              		.loc 1 10 28 is_stmt 0 view .LVU7
  60 000e 0134     		adds	r4, r4, #1
  61              	.LVL3:
  62              		.loc 1 10 28 view .LVU8
  63 0010 A4B2     		uxth	r4, r4
  64              	.LVL4:
  65              		.loc 1 10 34 view .LVU9
  66 0012 03EB8303 		add	r3, r3, r3, lsl #2
  67              	.LVL5:
  68              		.loc 1 10 34 view .LVU10
  69 0016 5B00     		lsls	r3, r3, #1
  70 0018 9BB2     		uxth	r3, r3
  71              	.LVL6:
  72              		.loc 1 10 25 is_stmt 1 view .LVU11
  73              	.L3:
  11:backup/Src/myfunc.c ****         if (num / k == 0)break;
  74              		.loc 1 11 9 view .LVU12
  75              		.loc 1 11 12 is_stmt 0 view .LVU13
  76 001a AB42     		cmp	r3, r5
  77 001c F7D9     		bls	.L7
  78 001e A046     		mov	r8, r4
  79 0020 1CE0     		b	.L2
  80              	.LVL7:
  81              	.L4:
  12:backup/Src/myfunc.c ****     }
  13:backup/Src/myfunc.c ****     for (k = i; i > 0; i--){
  14:backup/Src/myfunc.c ****         tem = p(10, i - 1);
  82              		.loc 1 14 9 is_stmt 1 discriminator 3 view .LVU14
  83              		.loc 1 14 15 is_stmt 0 discriminator 3 view .LVU15
  84 0022 08F1FF37 		add	r7, r8, #-1
  85 0026 3846     		mov	r0, r7
  86 0028 FFF7FEFF 		bl	__aeabi_i2d
  87              	.LVL8:
  88 002c 41EC110B 		vmov	d1, r0, r1
  89 0030 9FED0D0B 		vldr.64	d0, .L8
  90 0034 FFF7FEFF 		bl	pow
  91              	.LVL9:
  92 0038 51EC100B 		vmov	r0, r1, d0
  93 003c FFF7FEFF 		bl	__aeabi_d2uiz
  94              	.LVL10:
  15:backup/Src/myfunc.c ****         place[k - i] = num / tem + '0';
  95              		.loc 1 15 9 is_stmt 1 discriminator 3 view .LVU16
  96 0040 80B2     		uxth	r0, r0
  97              		.loc 1 15 28 is_stmt 0 discriminator 3 view .LVU17
  98 0042 B5FBF0F3 		udiv	r3, r5, r0
  99              		.loc 1 15 17 discriminator 3 view .LVU18
 100 0046 A4EB0808 		sub	r8, r4, r8
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 3


 101              	.LVL11:
 102              		.loc 1 15 34 discriminator 3 view .LVU19
 103 004a 3033     		adds	r3, r3, #48
 104 004c DBB2     		uxtb	r3, r3
 105              		.loc 1 15 22 discriminator 3 view .LVU20
 106 004e 06F80830 		strb	r3, [r6, r8]
  16:backup/Src/myfunc.c ****         num -= (place[k - i] - '0') * tem;
 107              		.loc 1 16 9 is_stmt 1 discriminator 3 view .LVU21
 108              		.loc 1 16 30 is_stmt 0 discriminator 3 view .LVU22
 109 0052 303B     		subs	r3, r3, #48
 110              		.loc 1 16 13 discriminator 3 view .LVU23
 111 0054 03FB1055 		mls	r5, r3, r0, r5
 112              	.LVL12:
  13:backup/Src/myfunc.c ****         tem = p(10, i - 1);
 113              		.loc 1 13 24 is_stmt 1 discriminator 3 view .LVU24
  13:backup/Src/myfunc.c ****         tem = p(10, i - 1);
 114              		.loc 1 13 25 is_stmt 0 discriminator 3 view .LVU25
 115 0058 1FFA87F8 		uxth	r8, r7
 116              	.LVL13:
 117              	.L2:
  13:backup/Src/myfunc.c ****         tem = p(10, i - 1);
 118              		.loc 1 13 17 is_stmt 1 discriminator 1 view .LVU26
  13:backup/Src/myfunc.c ****         tem = p(10, i - 1);
 119              		.loc 1 13 5 is_stmt 0 discriminator 1 view .LVU27
 120 005c B8F1000F 		cmp	r8, #0
 121 0060 DFD1     		bne	.L4
  17:backup/Src/myfunc.c ****     }
  18:backup/Src/myfunc.c ****     return k;
 122              		.loc 1 18 5 is_stmt 1 view .LVU28
  19:backup/Src/myfunc.c **** }
 123              		.loc 1 19 1 is_stmt 0 view .LVU29
 124 0062 E0B2     		uxtb	r0, r4
 125 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 126              	.LVL14:
 127              	.L9:
 128              		.loc 1 19 1 view .LVU30
 129              		.align	3
 130              	.L8:
 131 0068 00000000 		.word	0
 132 006c 00002440 		.word	1076101120
 133              		.cfi_endproc
 134              	.LFE235:
 136              		.section	.text.Str_to_uint,"ax",%progbits
 137              		.align	1
 138              		.global	Str_to_uint
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 143              	Str_to_uint:
 144              	.LVL15:
 145              	.LFB236:
  20:backup/Src/myfunc.c **** 
  21:backup/Src/myfunc.c **** //指定数量字符转整型，自带合法检测
  22:backup/Src/myfunc.c **** uint32_t Str_to_uint(uint8_t* pdata, uint8_t len)
  23:backup/Src/myfunc.c **** {
 146              		.loc 1 23 1 is_stmt 1 view -0
 147              		.cfi_startproc
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 4


 148              		@ args = 0, pretend = 0, frame = 0
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              		@ link register save eliminated.
 151              		.loc 1 23 1 is_stmt 0 view .LVU32
 152 0000 8446     		mov	ip, r0
  24:backup/Src/myfunc.c ****     uint32_t num = 0;
 153              		.loc 1 24 5 is_stmt 1 view .LVU33
 154              	.LVL16:
  25:backup/Src/myfunc.c ****     uint8_t k = 0;
 155              		.loc 1 25 5 view .LVU34
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 156              		.loc 1 26 5 view .LVU35
 157              		.loc 1 26 11 is_stmt 0 view .LVU36
 158 0002 0123     		movs	r3, #1
  24:backup/Src/myfunc.c ****     uint32_t num = 0;
 159              		.loc 1 24 14 view .LVU37
 160 0004 0020     		movs	r0, #0
 161              	.LVL17:
 162              		.loc 1 26 5 view .LVU38
 163 0006 0CE0     		b	.L11
 164              	.LVL18:
 165              	.L12:
  27:backup/Src/myfunc.c ****         num += (pdata[len-1] - '0') * k;
 166              		.loc 1 27 9 is_stmt 1 discriminator 3 view .LVU39
 167              		.loc 1 27 22 is_stmt 0 discriminator 3 view .LVU40
 168 0008 0CEB0102 		add	r2, ip, r1
 169 000c 12F8012C 		ldrb	r2, [r2, #-1]	@ zero_extendqisi2
 170              		.loc 1 27 30 discriminator 3 view .LVU41
 171 0010 303A     		subs	r2, r2, #48
 172              		.loc 1 27 13 discriminator 3 view .LVU42
 173 0012 02FB0300 		mla	r0, r2, r3, r0
 174              	.LVL19:
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 175              		.loc 1 26 25 is_stmt 1 discriminator 3 view .LVU43
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 176              		.loc 1 26 28 is_stmt 0 discriminator 3 view .LVU44
 177 0016 0139     		subs	r1, r1, #1
 178              	.LVL20:
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 179              		.loc 1 26 28 discriminator 3 view .LVU45
 180 0018 C9B2     		uxtb	r1, r1
 181              	.LVL21:
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 182              		.loc 1 26 34 discriminator 3 view .LVU46
 183 001a 03EB8303 		add	r3, r3, r3, lsl #2
 184              	.LVL22:
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 185              		.loc 1 26 34 discriminator 3 view .LVU47
 186 001e 5B00     		lsls	r3, r3, #1
 187 0020 DBB2     		uxtb	r3, r3
 188              	.LVL23:
 189              	.L11:
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 190              		.loc 1 26 16 is_stmt 1 discriminator 1 view .LVU48
  26:backup/Src/myfunc.c ****     for(k = 1; len > 0; len--, k *= 10){
 191              		.loc 1 26 5 is_stmt 0 discriminator 1 view .LVU49
 192 0022 0029     		cmp	r1, #0
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 5


 193 0024 F0D1     		bne	.L12
  28:backup/Src/myfunc.c ****     }
  29:backup/Src/myfunc.c ****     return num;
 194              		.loc 1 29 5 is_stmt 1 view .LVU50
  30:backup/Src/myfunc.c **** }
 195              		.loc 1 30 1 is_stmt 0 view .LVU51
 196 0026 7047     		bx	lr
 197              		.cfi_endproc
 198              	.LFE236:
 200              		.section	.text.delay_us,"ax",%progbits
 201              		.align	1
 202              		.global	delay_us
 203              		.syntax unified
 204              		.thumb
 205              		.thumb_func
 207              	delay_us:
 208              	.LVL24:
 209              	.LFB237:
  31:backup/Src/myfunc.c **** 
  32:backup/Src/myfunc.c **** //微秒级延时
  33:backup/Src/myfunc.c **** void delay_us(uint16_t us)
  34:backup/Src/myfunc.c **** {
 210              		.loc 1 34 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              		@ link register save eliminated.
  35:backup/Src/myfunc.c ****     __HAL_TIM_DISABLE(&htim6);
 215              		.loc 1 35 5 view .LVU53
 216              		.loc 1 35 5 view .LVU54
 217 0000 0E4B     		ldr	r3, .L16
 218 0002 1B68     		ldr	r3, [r3]
 219 0004 196A     		ldr	r1, [r3, #32]
 220 0006 41F21112 		movw	r2, #4369
 221 000a 1142     		tst	r1, r2
 222 000c 08D1     		bne	.L14
 223              		.loc 1 35 5 discriminator 1 view .LVU55
 224 000e 196A     		ldr	r1, [r3, #32]
 225 0010 40F24442 		movw	r2, #1092
 226 0014 1142     		tst	r1, r2
 227 0016 03D1     		bne	.L14
 228              		.loc 1 35 5 discriminator 3 view .LVU56
 229 0018 1A68     		ldr	r2, [r3]
 230 001a 22F00102 		bic	r2, r2, #1
 231 001e 1A60     		str	r2, [r3]
 232              	.L14:
 233              		.loc 1 35 5 discriminator 5 view .LVU57
  36:backup/Src/myfunc.c ****     __HAL_TIM_SET_COUNTER(&htim6 ,0);
 234              		.loc 1 36 5 discriminator 5 view .LVU58
 235 0020 064B     		ldr	r3, .L16
 236 0022 1B68     		ldr	r3, [r3]
 237 0024 0022     		movs	r2, #0
 238 0026 5A62     		str	r2, [r3, #36]
  37:backup/Src/myfunc.c ****     __HAL_TIM_ENABLE(&htim6);
 239              		.loc 1 37 5 discriminator 5 view .LVU59
 240 0028 1A68     		ldr	r2, [r3]
 241 002a 42F00102 		orr	r2, r2, #1
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 6


 242 002e 1A60     		str	r2, [r3]
  38:backup/Src/myfunc.c ****     while(__HAL_TIM_GetCounter(&htim6) < us);
 243              		.loc 1 38 5 discriminator 5 view .LVU60
 244              	.L15:
 245              		.loc 1 38 45 discriminator 1 view .LVU61
 246              		.loc 1 38 10 discriminator 1 view .LVU62
 247              		.loc 1 38 11 is_stmt 0 discriminator 1 view .LVU63
 248 0030 024B     		ldr	r3, .L16
 249 0032 1B68     		ldr	r3, [r3]
 250 0034 5B6A     		ldr	r3, [r3, #36]
 251              		.loc 1 38 10 discriminator 1 view .LVU64
 252 0036 8342     		cmp	r3, r0
 253 0038 FAD3     		bcc	.L15
  39:backup/Src/myfunc.c **** }
 254              		.loc 1 39 1 view .LVU65
 255 003a 7047     		bx	lr
 256              	.L17:
 257              		.align	2
 258              	.L16:
 259 003c 00000000 		.word	htim6
 260              		.cfi_endproc
 261              	.LFE237:
 263              		.section	.text.delay_ms,"ax",%progbits
 264              		.align	1
 265              		.global	delay_ms
 266              		.syntax unified
 267              		.thumb
 268              		.thumb_func
 270              	delay_ms:
 271              	.LVL25:
 272              	.LFB238:
  40:backup/Src/myfunc.c **** 
  41:backup/Src/myfunc.c **** //毫秒级延时
  42:backup/Src/myfunc.c **** void delay_ms(uint16_t ms)
  43:backup/Src/myfunc.c **** {
 273              		.loc 1 43 1 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277              		@ link register save eliminated.
  44:backup/Src/myfunc.c ****     __HAL_TIM_DISABLE(&htim7);
 278              		.loc 1 44 5 view .LVU67
 279              		.loc 1 44 5 view .LVU68
 280 0000 104B     		ldr	r3, .L21
 281 0002 1B68     		ldr	r3, [r3]
 282 0004 196A     		ldr	r1, [r3, #32]
 283 0006 41F21112 		movw	r2, #4369
 284 000a 1142     		tst	r1, r2
 285 000c 08D1     		bne	.L19
 286              		.loc 1 44 5 discriminator 1 view .LVU69
 287 000e 196A     		ldr	r1, [r3, #32]
 288 0010 40F24442 		movw	r2, #1092
 289 0014 1142     		tst	r1, r2
 290 0016 03D1     		bne	.L19
 291              		.loc 1 44 5 discriminator 3 view .LVU70
 292 0018 1A68     		ldr	r2, [r3]
 293 001a 22F00102 		bic	r2, r2, #1
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 7


 294 001e 1A60     		str	r2, [r3]
 295              	.L19:
 296              		.loc 1 44 5 discriminator 5 view .LVU71
  45:backup/Src/myfunc.c ****     __HAL_TIM_SET_COUNTER(&htim7 ,0);
 297              		.loc 1 45 5 discriminator 5 view .LVU72
 298 0020 084B     		ldr	r3, .L21
 299 0022 1B68     		ldr	r3, [r3]
 300 0024 0022     		movs	r2, #0
 301 0026 5A62     		str	r2, [r3, #36]
  46:backup/Src/myfunc.c ****     __HAL_TIM_ENABLE(&htim7);
 302              		.loc 1 46 5 discriminator 5 view .LVU73
 303 0028 1A68     		ldr	r2, [r3]
 304 002a 42F00102 		orr	r2, r2, #1
 305 002e 1A60     		str	r2, [r3]
  47:backup/Src/myfunc.c ****     while(__HAL_TIM_GetCounter(&htim7) < ms * 10);
 306              		.loc 1 47 5 discriminator 5 view .LVU74
 307              	.L20:
 308              		.loc 1 47 50 discriminator 1 view .LVU75
 309              		.loc 1 47 10 discriminator 1 view .LVU76
 310              		.loc 1 47 11 is_stmt 0 discriminator 1 view .LVU77
 311 0030 044B     		ldr	r3, .L21
 312 0032 1B68     		ldr	r3, [r3]
 313 0034 5B6A     		ldr	r3, [r3, #36]
 314              		.loc 1 47 45 discriminator 1 view .LVU78
 315 0036 00EB8002 		add	r2, r0, r0, lsl #2
 316              		.loc 1 47 10 discriminator 1 view .LVU79
 317 003a B3EB420F 		cmp	r3, r2, lsl #1
 318 003e F7D3     		bcc	.L20
  48:backup/Src/myfunc.c **** }...
 319              		.loc 1 48 1 view .LVU80
 320 0040 7047     		bx	lr
 321              	.L22:
 322 0042 00BF     		.align	2
 323              	.L21:
 324 0044 00000000 		.word	htim7
 325              		.cfi_endproc
 326              	.LFE238:
 328              		.text
 329              	.Letext0:
 330              		.file 2 "d:\\program files\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\machin
 331              		.file 3 "d:\\program files\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_
 332              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 333              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 334              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 335              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 336              		.file 8 "Core/Inc/tim.h"
 337              		.file 9 "d:\\program files\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\math.h
ARM GAS  C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 myfunc.c
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:22     .text.Uint_to_Str:00000000 $t
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:28     .text.Uint_to_Str:00000000 Uint_to_Str
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:131    .text.Uint_to_Str:00000068 $d
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:137    .text.Str_to_uint:00000000 $t
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:143    .text.Str_to_uint:00000000 Str_to_uint
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:201    .text.delay_us:00000000 $t
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:207    .text.delay_us:00000000 delay_us
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:259    .text.delay_us:0000003c $d
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:264    .text.delay_ms:00000000 $t
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:270    .text.delay_ms:00000000 delay_ms
C:\Users\YKESH~1\AppData\Local\Temp\ccbAQWzl.s:324    .text.delay_ms:00000044 $d

UNDEFINED SYMBOLS
__aeabi_i2d
__aeabi_d2uiz
pow
htim6
htim7
